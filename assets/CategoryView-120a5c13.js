import{S as T}from"./swalToast-ae96fb99.js";import{_ as P,u as S,m as _,g as m,r as g,o as c,c as d,b as o,w as a,a as t,t as l,F as f,j as k,d as i,h as L}from"./index-243bb871.js";import{L as F,P as V}from"./PaginationView-1f7c3238.js";import{N as B}from"./NavBar-6e4be1eb.js";import{F as N,c as h}from"./FrontFooter-3fda9ae9.js";import{f as b}from"./favoritesStore-87b7f68f.js";const{VITE_APP_URL:A,VITE_APP_PATH:I}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_APP_PATH:"cheryl-hexschool",BASE_URL:"/vite-template/",MODE:"production",DEV:!1,PROD:!0},E={data(){return{products:[],pagination:{},isLoading:!1,fullPage:!0,pageCategory:""}},components:{RouterLink:S,Loading:F,NavBar:B,FrontFooter:N,Pagination:V},computed:{..._(b,["favoritesList"]),..._(h,["loadingItem"])},watch:{favoritesList:{handler(){localStorage.setItem("favoritesList",JSON.stringify(this.favoritesList))},deep:!0}},methods:{getProducts(s=1){this.isLoading=!0;const{category:p}=this.$route.params;this.pageCategory=p,this.$http.get(`${A}/api/${I}/products/?page=${s}&category=${p}`).then(u=>{this.isLoading=!1,this.products=u.data.products,this.pagination=u.data.pagination}).catch(u=>{T.fire({icon:"error",title:u.response.data.message,confirmButtonColor:"#ab7e52"})})},...m(h,["addToCart"]),...m(b,["isFavorite","toggleFavorite","removeFavorite"])},mounted(){this.getProducts()}},D=t("div",{class:"loadingio-spinner-spin-ekq2gap1645"},[t("div",{class:"ldio-kyayy0fncmo"},[t("div",null,[t("div")]),t("div",null,[t("div")]),t("div",null,[t("div")]),t("div",null,[t("div")]),t("div",null,[t("div")]),t("div",null,[t("div")]),t("div",null,[t("div")]),t("div",null,[t("div")])])],-1),H={class:"bg-all",style:{"padding-top":"90px","padding-bottom":"6vh"}},M=t("div",{class:"position-relative d-flex align-items-center justify-content-center",style:{"min-height":"180px"}},[t("div",{class:"position-absolute",style:{top:"0",bottom:"0",left:"0",right:"0","background-image":"url(https://images.unsplash.com/photo-1550450339-e7a4787a2074?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1920&q=80)","background-position":"center center",opacity:"1"}})],-1),j={class:"container mt-4"},R={"aria-label":"breadcrumb"},U={class:"breadcrumb bg-all px-0 mb-0 pb-3"},$={class:"breadcrumb-item Serif-TC"},O={class:"breadcrumb-item Serif-TC"},q={class:"breadcrumb-item dropdown Serif-TC"},z={class:"text-decoration-none neutral-300 dropdown-toggle",href:"#",role:"button",id:"dropdownMenuLink","data-bs-toggle":"dropdown","aria-expanded":"false"},G={class:"dropdown-menu","aria-labelledby":"dropdownMenuLink"},J={class:"row"},W={class:"card shadow-custom border-0 rounded-0 position-relative",style:{width:"18rem"}},Y={class:"text-danger"},K=["onClick"],Q=["onClick"],X=t("div",{class:"prodHover"},[t("p",{class:"Serif-TC letter-spacing fs-5 text-center px-3 py-2 text-white bg-opacity-65 w-100"},"點擊查看")],-1),Z=["src","alt"],tt={class:"mb-0 neutral-900 Serif-TC text-center pb-2 pt-1"},et={class:"p-1"},ot={class:"d-flex px-2 mb-2"},st=t("p",{class:"card-text neutral-500 mb-0 Sans-TC px-3 py-1 bg-sec col-auto d-flex align-items-center"},"品種",-1),at={class:"card-text neutral-500 mb-0 Sans-TC px-3 py-1 col-10"},it={class:"d-flex px-2 mb-2"},nt=t("p",{class:"card-text neutral-500 mb-0 Sans-TC px-3 py-1 bg-sec col-auto d-flex align-items-center"},"香氣",-1),lt={class:"card-text neutral-500 mb-0 Sans-TC px-3 py-1 col-10"},rt={class:"d-flex px-2 mb-2"},ct=t("p",{class:"card-text neutral-500 mb-0 Sans-TC px-3 py-1 bg-sec col-auto d-flex align-items-center"},"滋味",-1),dt={class:"card-text neutral-500 mb-0 Sans-TC px-3 py-1 col-10"},pt={class:"flex-grow-1 d-flex align-items-end"},ut={class:"accent-color Sans-TC mb-0 px-3 pt-1 pb-2 fs-5"},gt=["disabled","onClick"],_t={key:0,class:"fas fa-spinner fa-pulse me-2"};function mt(s,p,u,ft,r,v){const x=g("Loading"),y=g("NavBar"),n=g("router-link"),C=g("Pagination"),w=g("FrontFooter");return c(),d(f,null,[o(x,{active:r.isLoading,"onUpdate:active":p[0]||(p[0]=e=>r.isLoading=e),"can-cancel":!0,"is-full-page":r.fullPage},{default:a(()=>[D]),_:1},8,["active","is-full-page"]),o(y),t("div",H,[M,t("div",j,[t("nav",R,[t("ol",U,[t("li",$,[o(n,{class:"neutral-300 text-decoration-none",to:"/products"},{default:a(()=>[i("全部產品")]),_:1})]),t("li",O,[o(n,{class:"neutral-300 text-decoration-none",to:"/tea-intro"},{default:a(()=>[i("茶品介紹")]),_:1})]),t("li",q,[t("a",z,l(r.pageCategory),1),t("ul",G,[t("li",null,[o(n,{to:"/category/紅茶",class:"dropdown-item neutral-500"},{default:a(()=>[i("紅茶")]),_:1})]),t("li",null,[o(n,{to:"/category/綠茶",class:"dropdown-item neutral-500"},{default:a(()=>[i("綠茶")]),_:1})]),t("li",null,[o(n,{to:"/category/青茶",class:"dropdown-item neutral-500"},{default:a(()=>[i("青茶")]),_:1})]),t("li",null,[o(n,{to:"/category/黑茶",class:"dropdown-item neutral-500"},{default:a(()=>[i("黑茶")]),_:1})])])])])]),t("div",J,[(c(!0),d(f,null,k(r.products,e=>(c(),d("div",{class:"col-lg-3 col-md-4 mb-5 d-flex align-items-stretch justify-content-center",key:e.id,"data-aos":"fade-up","data-aos-duration":"400"},[t("div",W,[t("a",Y,[s.isFavorite(e)?(c(),d("i",{key:0,onClick:()=>s.toggleFavorite(e),class:"bi bi-heart-fill fs-4 position-absolute",style:{right:"16px",top:"16px","z-index":"5"}},null,8,K)):(c(),d("i",{key:1,onClick:()=>s.toggleFavorite(e),class:"bi bi-heart fs-4 position-absolute",style:{right:"16px",top:"16px","z-index":"5"}},null,8,Q))]),o(n,{to:`/product/${e.id}`,class:"card-body d-flex flex-column text-decoration-none p-0 position-relative"},{default:a(()=>[X,t("img",{src:e.imageUrl,class:"card-img-top object-cover productsImg",alt:e.title},null,8,Z),t("h5",tt,l(e.title),1),t("div",et,[t("div",ot,[st,t("p",at,l(e.variety),1)]),t("div",it,[nt,t("p",lt,l(e.aroma),1)]),t("div",rt,[ct,t("p",dt,l(e.taste),1)])]),t("div",pt,[t("p",ut,[i("NT$ "+l(e.price),1),t("small",null," /"+l(e.unit),1)])])]),_:2},1032,["to"]),t("button",{type:"button",class:"btn btn-custom Serif-TC letter-spacing w-100",disabled:e.id===s.loadingItem,onClick:()=>s.addToCart(e.id)},[s.loadingItem===e.id?(c(),d("i",_t)):L("",!0),i("加入購物車")],8,gt)])]))),128))]),o(C,{pages:r.pagination,onChangePage:v.getProducts},null,8,["pages","onChangePage"])])]),o(w)],64)}const wt=P(E,[["render",mt]]);export{wt as default};
