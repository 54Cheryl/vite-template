import{S as v}from"./swalToast-fc60fcb4.js";import{N as U}from"./NavBar-4c7bd1fe.js";import{F as D,c as f}from"./FrontFooter-88a8817a.js";import{_ as M,m as x,g as y,r as h,o as l,c as a,b as p,a as t,e as C,F as _,i as T,w as m,t as c,h as b,d as n,n as A,bu as E,bk as R,j as k}from"./index-398b9cc9.js";import{f as S}from"./favoritesStore-6964c95d.js";function V(o,e){const r=o.filter(s=>s.id!==e),d=[];for(;d.length<4&&r.length>0;){const s=Math.floor(Math.random()*r.length);d.push(r[s]),r.splice(s,1)}return d}const{VITE_APP_URL:w,VITE_APP_PATH:F}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_APP_PATH:"cheryl-hexschool",BASE_URL:"/vite-template/",MODE:"production",DEV:!1,PROD:!0},L={data(){return{product:{},tempQty:1,mainImg:"",otherProducts:[]}},computed:{...x(S,["favoritesList"]),...x(f,["loadingItem"])},watch:{favoritesList:{handler(){localStorage.setItem("favoritesList",JSON.stringify(this.favoritesList))},deep:!0}},methods:{getProduct(){const{id:o}=this.$route.params;this.$http.get(`${w}/api/${F}/product/${o}`).then(e=>{this.product=e.data.product,this.mainImg=e.data.product.imageUrl,this.getOtherProduct()}).catch(e=>{v.fire({icon:"error",title:e.response.data.message,confirmButtonColor:"#ab7e52"})})},getOtherProduct(){const o=this.product.category;this.$http.get(`${w}/api/${F}/products/?category=${o}`).then(e=>{const r=e.data.products,d=V(r,this.product.id);this.otherProducts=d}).catch(e=>{v.fire({icon:"error",title:e.response.data.message,confirmButtonColor:"#ab7e52"})})},showImg(o){this.mainImg=o},...y(f,["addToCart"]),...y(S,["isFavorite","toggleFavorite","removeFavorite"])},components:{NavBar:U,FrontFooter:D},mounted(){this.getProduct()}},N={class:"container mt-md-5",style:{"padding-top":"90px"}},z={class:"row mx-4"},j={class:"col-lg-5"},J={class:"text-center overflow-hidden position-relative"},G={class:"text-danger",style:{cursor:"pointer"}},Q=["src","alt"],X={class:"row my-4"},K={class:"col-3 text-center overflow-hidden"},q=["src","alt"],Y=["src","alt","onClick"],H={class:"col-lg-7"},Z={"aria-label":"breadcrumb"},W={class:"breadcrumb bg-white px-0 mb-0 pb-3 Serif-TC"},O={class:"breadcrumb-item neutral-300"},$={class:"breadcrumb-item neutral-300"},tt={class:"breadcrumb-item neutral-300"},st={class:"breadcrumb-item active neutral-500","aria-current":"page"},et={class:"fw-bold h1 mb-3 Serif-TC"},ot={class:"d-flex mb-2"},it=t("p",{class:"card-text neutral-500 mb-0 Sans-TC px-3 py-1 bg-sec"},"產地",-1),ct={class:"card-text neutral-500 mb-0 Sans-TC px-3 py-1"},lt={class:"d-flex mb-2"},at=t("p",{class:"card-text neutral-500 mb-0 Sans-TC px-3 py-1 bg-sec"},"品種",-1),rt={class:"card-text neutral-500 mb-0 Sans-TC px-3 py-1"},nt={class:"d-flex mb-2"},dt=t("p",{class:"card-text neutral-500 mb-0 Sans-TC px-3 py-1 bg-sec"},"香氣",-1),pt={class:"card-text neutral-500 mb-0 Sans-TC px-3 py-1"},ut={class:"d-flex mb-2"},mt=t("p",{class:"card-text neutral-500 mb-0 Sans-TC px-3 py-1 bg-sec"},"滋味",-1),ht={class:"card-text neutral-500 mb-0 Sans-TC px-3 py-1"},_t={class:"d-flex mb-2"},bt=t("p",{class:"card-text neutral-500 mb-0 Sans-TC px-3 py-1 bg-sec"},"茶乾",-1),gt={class:"card-text neutral-500 mb-0 Sans-TC px-3 py-1"},vt={class:"d-flex mb-2"},ft=t("p",{class:"card-text neutral-500 mb-0 Sans-TC px-3 py-1 bg-sec d-flex align-items-center"},"說明",-1),xt={class:"card-text neutral-500 mb-0 Sans-TC px-3 py-1 w-75"},yt={class:"mt-3 Sans-TC"},Ct={key:0,class:"fs-5 mb-0 text-muted"},Tt={class:"fs-3 fw-bold accent-color"},St={class:"fs-5 mb-0"},wt={class:"my-3 col-12 col-md-6 qty-pe"},Ft=t("p",{class:"fs-5 Serif-TC mb-2"},"數量",-1),kt={class:"input-group align-items-center"},It={class:"input-group-prepend"},Pt=["disabled"],Bt=t("i",{class:"fas fa-minus"},null,-1),Ut=[Bt],Dt={class:"input-group-append"},Mt=t("i",{class:"fas fa-plus"},null,-1),At=[Mt],Et={class:"row align-items-center p-0 pt-3"},Rt={class:"col-md-6 pb-3"},Vt={class:"col-md-6 pb-3"},Lt=["disabled"],Nt={key:0,class:"fas fa-spinner fa-pulse me-2"},zt={class:"mt-3 mx-4 row justify-content-between"},jt=k('<div class="accordion col-12 col-md-5 py-0 px-2"><h2 class="accordion-header"><button type="button" class="accordion-button Serif-TC fs-4" data-bs-toggle="collapse" data-bs-target="#collapseDelivery" aria-expanded="false" aria-controls="collapseExample"> 送貨方式 </button></h2><div class="collapse show" id="collapseDelivery"><div class="card card-body border-0 Sans-TC px-0"><ul><li>新竹物流宅配</li><li>黑貓宅配</li><li>7-11 取貨</li><li>全家 取貨</li><li>跨境宅配</li><li>7-11 跨境門市取貨</li><li>郵局航空包裹</li><li>郵局宅配（台灣離島地區）</li></ul></div></div></div>',1),Jt={class:"accordion col-12 col-md-7 py-0 px-2"},Gt=t("h2",{class:"accordion-header"},[t("button",{type:"button",class:"accordion-button Serif-TC fs-4","data-bs-toggle":"collapse","data-bs-target":"#collapseDescription","aria-expanded":"false","aria-controls":"collapseDescription"}," 產品描述 ")],-1),Qt={class:"collapse show",id:"collapseDescription"},Xt={class:"card card-body border-0 Sans-TC"},Kt={class:"container",style:{"padding-bottom":"6vh","margin-top":"15vh"}},qt={class:"row mx-4"},Yt=k('<div class="tel-use"><div class="d-flex col-md-2"><div class="col-auto ps-3 position-relative"><img src="https://storage.googleapis.com/vue-course-api.appspot.com/cheryl-hexschool/1678657190077.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&amp;Expires=1742169600&amp;Signature=KlWtrqmPixbMSIZMgexLakY33rh8Np7Ltcbo79AMG2%2FWgSprUf9%2BmfPpSRYYkhtMQp%2BJDTZaUPzN%2FhqTuuvU2dT8Yir0eJzJ9RFPV7cYJoJ4tzXlwZUXq%2BeTBA3sMox9pw5jGngU6Y8DM%2BTo8cFK%2BTJFzbUm2GULC%2FpheeRdRX6TVSd5g4O5tlITEJ4o%2BVHerWlptyUPASQufdWdZlZQs3mq3ea%2FbthMUDcJpFyRXllC3EIIod3juzbrVPY2GVlSIo2PX%2FW8Rx6QjqpHR9FnZaKLbQnUvBWEgrDi%2FwMC%2BNM9amzSX9x%2Bjap2h7fHzd6pjdRL79n9YpUjRfUrx9PJUw%3D%3D" alt="title-icon-img" class="position-absolute" style="left:-0.1rem;top:-1rem;"><h3 class="letter-spacing Serif-TC mb-0 neutral-900">相關產品</h3><span class="text-center fs-7 Serif-TC mt-4 neutral-900">Related Products</span></div><div class="col m-auto ps-3"><p class="bg-n500 m-auto" style="height:1px;"></p></div></div></div><div class="col-md-auto other-use px-0"><div class="d-flex" style="max-height:40vh;" data-aos="fade-up" data-aos-duration="1000"><div class="ms-4"><div class="d-flex position-relative"><img src="https://storage.googleapis.com/vue-course-api.appspot.com/cheryl-hexschool/1678657173971.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&amp;Expires=1742169600&amp;Signature=MHd4mGdFGGnSsP3GSFLQgsEvfMKifxctn3GQ1CEIU0aYouK%2FDr3MraqmFSb8Kfgf6kVLn9R%2BIpITyDkjrM%2FcoTtyhCvARZDUOEcG3MSnHESIp%2FtH6Iutscaa1UKCtMLg9XyVtAgqUv08h%2FjYlRiSdbr8mzWrlFuTbPth3J8NJaRa51BlW5WiIGFwgzuDr2DqtbhcAuJyYmm5N642IXaALlXAhvoGBhSX0MB5xp4ITp2fI%2BZE0wxP9ANdTCp%2BbrQz2zStXlNu71VJTLfAGn4eL28yl8qriMAJZKi1mRxsXcTdjKLiK%2BZjKpb9HXaiaKBME0oAi7JzB3oDyJGMB9qC3A%3D%3D" alt="title-icon-img" class="position-absolute" style="right:0.5rem;top:0.3rem;"><h3 class="letter-spacing Serif-TC mt-4 mx-0 writing-lr neutral-900">相關產品 </h3><span class="text-left fs-7 Serif-TC writing-lr mt-4 pt-4 neutral-900">Related Products</span></div><p class="bg-n500 m-auto" style="width:1px;height:15vh;"></p></div></div></div>',2),Ht={class:"row col-md-10 d-flex justify-content-left m-auto pt-5","data-aos":"fade-up","data-aos-duration":"1000"},Zt={class:"card shadow-custom border-0 rounded-0 position-relative",style:{width:"18rem"}},Wt={class:"text-danger",style:{cursor:"pointer"}},Ot=["onClick"],$t=["onClick"],ts=t("div",{class:"prodHover"},[t("p",{class:"Serif-TC letter-spacing fs-5 text-center px-3 py-2 text-white bg-opacity-65 w-100"},"點擊查看")],-1),ss=["src","alt"],es={class:"mb-0 neutral-900 Serif-TC text-center pb-2 pt-1"},os={class:"p-1"},is={class:"d-flex px-2 mb-2"},cs=t("p",{class:"card-text neutral-500 mb-0 Sans-TC px-3 py-1 bg-sec col-auto d-flex align-items-center"},"品種",-1),ls={class:"card-text neutral-500 mb-0 Sans-TC px-3 py-1 col-10"},as={class:"d-flex px-2 mb-2"},rs=t("p",{class:"card-text neutral-500 mb-0 Sans-TC px-3 py-1 bg-sec col-auto d-flex align-items-center"},"香氣",-1),ns={class:"card-text neutral-500 mb-0 Sans-TC px-3 py-1 col-10"},ds={class:"d-flex px-2 mb-2"},ps=t("p",{class:"card-text neutral-500 mb-0 Sans-TC px-3 py-1 bg-sec col-auto d-flex align-items-center"},"滋味",-1),us={class:"card-text neutral-500 mb-0 Sans-TC px-3 py-1 col-10"},ms={class:"flex-grow-1 d-flex align-items-end"},hs={class:"accent-color Sans-TC mb-0 px-3 pt-1 pb-2 fs-5"},_s=["disabled","onClick"],bs={key:0,class:"fas fa-spinner fa-pulse me-2"};function gs(o,e,r,d,s,g){const I=h("NavBar"),u=h("router-link"),P=h("FrontFooter");return l(),a(_,null,[p(I),t("div",N,[t("div",z,[t("div",j,[t("div",J,[t("a",G,[o.isFavorite(s.product)?(l(),a("i",{key:0,onClick:e[0]||(e[0]=()=>o.toggleFavorite(s.product)),class:"bi bi-heart-fill fs-4 position-absolute",style:{right:"16px",top:"16px"}})):(l(),a("i",{key:1,onClick:e[1]||(e[1]=()=>o.toggleFavorite(s.product)),class:"bi bi-heart fs-4 position-absolute",style:{right:"16px",top:"16px"}}))]),t("img",{src:s.mainImg,alt:s.product.title,class:"card-img-top rounded-0 object-cover mainImg"},null,8,Q)]),t("div",X,[t("div",K,[t("img",{src:s.product.imageUrl,alt:s.product.title,class:"card-img-top rounded-0 object-cover smImg",onClick:e[2]||(e[2]=C(()=>g.showImg(s.product.imageUrl),["prevent"]))},null,8,q)]),(l(!0),a(_,null,T(s.product.imagesUrl,(i,B)=>(l(),a("div",{class:"col-3 text-center overflow-hidden",key:B},[t("img",{src:i,alt:s.product.title,class:"card-img-top rounded-0 object-cover smImg",onClick:C(()=>g.showImg(i),["prevent"])},null,8,Y)]))),128))])]),t("div",H,[t("nav",Z,[t("ol",W,[t("li",O,[p(u,{to:"/products",class:"text-muted"},{default:m(()=>[n("全部產品")]),_:1})]),t("li",$,[p(u,{to:"/tea-intro",class:"text-muted"},{default:m(()=>[n("茶品介紹")]),_:1})]),t("li",tt,[p(u,{to:`/category/${s.product.category}`,class:"text-muted"},{default:m(()=>[n(c(s.product.category),1)]),_:1},8,["to"])]),t("li",st,c(s.product.title),1)])]),t("h2",et,c(s.product.title),1),t("div",ot,[it,t("p",ct,c(s.product.origin_place),1)]),t("div",lt,[at,t("p",rt,c(s.product.variety),1)]),t("div",nt,[dt,t("p",pt,c(s.product.aroma),1)]),t("div",ut,[mt,t("p",ht,c(s.product.taste),1)]),t("div",_t,[bt,t("p",gt,c(s.product.tea_dried),1)]),t("div",vt,[ft,t("p",xt,c(s.product.content),1)]),t("div",yt,[s.product.origin_price!==s.product.price?(l(),a("p",Ct,[t("del",null,"NT$ "+c(s.product.origin_price),1)])):b("",!0),t("p",Tt,[n("NT$ "+c(s.product.price),1),t("span",St," /"+c(s.product.unit),1)])]),t("div",wt,[Ft,t("div",kt,[t("div",It,[t("button",{type:"button",class:A(["btn btn-outline-custom p-2",{"neutral-900":s.tempQty===1}]),disabled:s.tempQty===1,onClick:e[3]||(e[3]=()=>s.tempQty--)},Ut,10,Pt)]),E(t("input",{type:"number",class:"form-control text-center p-2",placeholder:"",style:{border:"1px solid #292524"},"aria-label":"Example text with button addon","aria-describedby":"button-addon1","onUpdate:modelValue":e[4]||(e[4]=i=>s.tempQty=i),min:"1"},null,512),[[R,s.tempQty,void 0,{number:!0}]]),t("div",Dt,[t("button",{type:"button",class:"btn btn-outline-custom p-2",onClick:e[5]||(e[5]=()=>s.tempQty++)},At)])])]),t("div",Et,[t("div",Rt,[o.isFavorite(s.product)?(l(),a("button",{key:0,type:"button",class:"btn btn-outline-n500 Serif-TC letter-spacing w-100",onClick:e[6]||(e[6]=()=>o.toggleFavorite(s.product))},"取消收藏")):(l(),a("button",{key:1,type:"button",class:"btn btn-outline-accent Serif-TC letter-spacing w-100",onClick:e[7]||(e[7]=()=>o.toggleFavorite(s.product))},"加入收藏"))]),t("div",Vt,[t("button",{type:"button",class:"btn btn-custom Serif-TC letter-spacing w-100",disabled:s.product.id===o.loadingItem,onClick:e[8]||(e[8]=()=>o.addToCart(s.product.id,s.tempQty))},[o.loadingItem===s.product.id?(l(),a("i",Nt)):b("",!0),n("加入購物車")],8,Lt)])])])]),t("div",zt,[jt,t("div",Jt,[Gt,t("div",Qt,[t("div",Xt,c(s.product.description),1)])])])]),t("div",Kt,[t("div",qt,[Yt,t("div",Ht,[(l(!0),a(_,null,T(s.otherProducts,i=>(l(),a("div",{class:"col-md-5 col-lg-3 mb-5 d-flex align-items-stretch justify-content-center",key:i.id},[t("div",Zt,[t("a",Wt,[o.isFavorite(i)?(l(),a("i",{key:0,onClick:()=>o.toggleFavorite(i),class:"bi bi-heart-fill fs-4 position-absolute",style:{right:"16px",top:"16px","z-index":"5"}},null,8,Ot)):(l(),a("i",{key:1,onClick:()=>o.toggleFavorite(i),class:"bi bi-heart fs-4 position-absolute",style:{right:"16px",top:"16px","z-index":"5"}},null,8,$t))]),p(u,{to:`/product/${i.id}`,class:"card-body d-flex flex-column text-decoration-none p-0 position-relative"},{default:m(()=>[ts,t("img",{src:i.imageUrl,class:"card-img-top object-cover productsImg",alt:i.title},null,8,ss),t("h5",es,c(i.title),1),t("div",os,[t("div",is,[cs,t("p",ls,c(i.variety),1)]),t("div",as,[rs,t("p",ns,c(i.aroma),1)]),t("div",ds,[ps,t("p",us,c(i.taste),1)])]),t("div",ms,[t("p",hs,[n("NT$ "+c(i.price),1),t("small",null," /"+c(i.unit),1)])])]),_:2},1032,["to"]),t("button",{type:"button",class:"btn btn-custom Serif-TC letter-spacing w-100",disabled:i.id===o.loadingItem,onClick:()=>o.addToCart(i.id)},[o.loadingItem===i.id?(l(),a("i",bs)):b("",!0),n("加入購物車")],8,_s)])]))),128))])])]),p(P)],64)}const Ts=M(L,[["render",gs]]);export{Ts as default};
